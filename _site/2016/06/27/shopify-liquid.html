<!DOCTYPE html>
<html class="module-default">
  <head> 

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="keywords" content="AngularJS,Django,Github,HTML,NPM,Node.js,Ruby,模板,Liquid">

<meta name="google-site-verification" content="eLkhUhgjmoDvyZ3RB9Co10qQdgK2T0Jgc49Z90sjjRw" />

<!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Liquid 是世界上最好的模板引擎 - Doctorma Land</title>
<meta property="og:title" content="Liquid 是世界上最好的模板引擎" />
<meta name="description" content="模板引擎是Web应用中用来生成动态HTML的工具，它负责将数据模型与HTML模板结合（模板渲染），生成最终的HTML。编写HTML模板的语法称为模板语法，模板语法的表达能力和可扩展性决定了模板引擎的易用性。在转战不同的模板引擎后， Harttle 决定坚决支持Liquid，并在Node.JS下实现Shopify Liquid模板引擎。此前用这篇文章来讨论模板引擎的用途及其优劣。" />
<meta property="og:description" content="模板引擎是Web应用中用来生成动态HTML的工具，它负责将数据模型与HTML模板结合（模板渲染），生成最终的HTML。编写HTML模板的语法称为模板语法，模板语法的表达能力和可扩展性决定了模板引擎的易用性。在转战不同的模板引擎后， Harttle 决定坚决支持Liquid，并在Node.JS下实现Shopify Liquid模板引擎。此前用这篇文章来讨论模板引擎的用途及其优劣。" />
<link rel="canonical" href="https://doctorma.github.io/2016/06/27/shopify-liquid.html" />
<meta property="og:url" content="https://doctorma.github.io/2016/06/27/shopify-liquid.html" />
<meta property="og:site_name" content="Doctorma Land" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-06-27T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@harttleharttle" />
<meta name="twitter:creator" content="@Doctorma" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Liquid 是世界上最好的模板引擎",
    "datePublished": "2016-06-27T00:00:00+08:00",
    "description": "模板引擎是Web应用中用来生成动态HTML的工具，它负责将数据模型与HTML模板结合（模板渲染），生成最终的HTML。编写HTML模板的语法称为模板语法，模板语法的表达能力和可扩展性决定了模板引擎的易用性。在转战不同的模板引擎后， Harttle 决定坚决支持Liquid，并在Node.JS下实现Shopify Liquid模板引擎。此前用这篇文章来讨论模板引擎的用途及其优劣。",
    "logo": "https://doctorma.github.ioassets/img/favicon.png",
    "url": "https://doctorma.github.io/2016/06/27/shopify-liquid.html"
  }
</script>
<!-- End Jekyll SEO tag -->
<link type="application/atom+xml" rel="alternate" href="https://doctorma.github.io/feed.xml" title="Doctorma Land" />

<link rel="shortcut icon" href="/assets/img/favicon.png">
<link rel="apple-touch-icon-precomposed" href="/assets/img/apple-touch-icon-precomposed.png">
<link rel="stylesheet" href="/assets/lib/bootstrap/3.2.0/css/bootstrap.min.css">
<link rel="stylesheet" href="/assets/lib/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="stylesheet" defer href="/assets/lib/lightbox/css/lightbox.css">
<link rel="stylesheet" href="/assets/css/site.css">

<script src="/assets/lib/jquery/jquery-2.0.3.min.js"></script>

 </head>
  <body id="body" >

    <div class="banner ">
      <div class="container-fluid">
        <nav class="pull-right">
          <a class="glow no-decoration" href="/tags.html">标签</a>
          <a class="glow no-decoration" href="/archive.html">归档</a>
          <a class="glow no-decoration" href="/about.html">关于</a>
        </nav>
        <a class="logo no-decoration" href="/">
          <i class="logo-h fa fa-h-square"></i> 
          <span class="logo-arttle glow">octorma</span>
          <span class="logo-land">Land</span>
        </a>
      </div>
    </div>

    <div class="site-content"> <div class="module-blog">
  <header class="blog-header">
    <div class="container-fluid">
      <time class="pull-right">
        
        Monday, June 
        27th
          , 
        2016
      </time>
      <h3>Liquid 是世界上最好的模板引擎
        
      </h3>

      <aside> <div class="toc"></div> </aside>

      <p class="tag-list">
        
          <a class="tag" href="/tags.html#AngularJS">AngularJS</a>
        
          <a class="tag" href="/tags.html#Django">Django</a>
        
          <a class="tag" href="/tags.html#Github">Github</a>
        
          <a class="tag" href="/tags.html#HTML">HTML</a>
        
          <a class="tag" href="/tags.html#NPM">NPM</a>
        
          <a class="tag" href="/tags.html#Node.js">Node.js</a>
        
          <a class="tag" href="/tags.html#Ruby">Ruby</a>
        
          <a class="tag" href="/tags.html#模板">模板</a>
        
          <a class="tag" href="/tags.html#Liquid">Liquid</a>
        
      </p>
    </div>
  </header>

  <div class="container-fluid">
    <div class="content">
      <article class="md">
        
<p><a href="https://en.wikipedia.org/wiki/Web_template_system">模板引擎</a>是Web应用中用来生成动态HTML的工具，
它负责将数据模型与HTML模板结合（<em>模板渲染</em>），生成最终的HTML。
编写HTML模板的语法称为模板语法，模板语法的表达能力和可扩展性决定了模板引擎的易用性。
在转战不同的模板引擎后， Harttle 决定坚决支持Liquid，并在Node.JS下实现<a href="https://shopify.github.io/liquid/">Shopify Liquid</a>模板引擎。
此前用这篇文章来讨论模板引擎的用途及其优劣。</p>

<!--more-->

<blockquote>
  <p>模板引擎常常被作为Web应用框架的一部分，但也可以作为预处理器或过滤器单独运行（比如在Gulp中）。
Harttle 正在实现的<a href="https://github.com/harttle/shopify-liquid">harttle/shopify-liquid</a>也应当提供命令行接口和编程接口来支持不同的使用方式。</p>
</blockquote>

<p>如果你还不确定什么是模板引擎，这里做一个简单的类比：</p>

<p>在C++的<code class="highlighter-rouge">printf("Name: %s", str)</code>中，<code class="highlighter-rouge">printf()</code>函数便是模板引擎，
它负责将格式化字符串与上下文数据结合生成最终的字符串。
其中<code class="highlighter-rouge">"Name: %s"</code>是模板，<code class="highlighter-rouge">%s</code>是一种模板语法。而<code class="highlighter-rouge">str</code>则为上下文数据。</p>

<h1 id="section">历数那些著名的模板引擎</h1>

<p>在讨论谁是最好的模板引擎之前，先来历数一下 Harttle 经历过的那些模板引擎，来讨论它们的优缺点。</p>

<h2 id="shopify-liquid">Shopify Liquid</h2>

<p><a href="https://shopify.github.io/liquid/">Shopify Liquid</a>是Liquid引擎的Ruby实现，Jekyll中的模板引擎即是Shipify Liquid。
提供控制流、变量定义、迭代功能、继承和引入。不支持通用的表达式求值，但可以自定义过滤器和标签。</p>

<p>使用<code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>输出变量，<code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code>标记块：</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">user</span><span class="w"> </span><span class="p">%}</span>
  Hello <span class="p">{{</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">name</span><span class="w"> </span><span class="p">}}</span>!
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>

<span class="p">{%</span><span class="w"> </span><span class="nt">for</span><span class="w"> </span>product<span class="w"> </span>in<span class="w"> </span>collection.products<span class="w"> </span><span class="p">%}</span>
  <span class="p">{{</span><span class="w"> </span><span class="nv">product</span><span class="p">.</span><span class="nv">title</span><span class="w"> </span><span class="p">}}</span>
<span class="p">{%</span><span class="w"> </span><span class="nt">endfor</span><span class="w"> </span><span class="p">%}</span>
</code></pre>
</div>

<blockquote>
  <p><a href="https://docs.djangoproject.com/en/1.9/ref/templates/">Django Templates</a>也采用Liquid兼容的模板语法。</p>
</blockquote>

<h2 id="codecharge-studio">CodeCharge Studio</h2>

<p><a href="https://en.wikipedia.org/wiki/CodeCharge_Studio">CodeCharge Studio</a>是C#、JSP的默认模板引擎。</p>

<p>支持控制流、变量定义、迭代功能、函数调用、继承和引入。功能很强大，只是它的模板语言太繁琐，例如：</p>

<pre><code class="language-jsp">&lt;%@page contentType="text/html" pageEncoding="UTF-8"%&gt;
&lt;%@taglib prefix="t" tagdir="/WEB-INF/tags" %&gt;

&lt;t:genericpage&gt;
    &lt;jsp:attribute name="header"&gt;
      &lt;h1&gt;Welcome&lt;/h1&gt;
    &lt;/jsp:attribute&gt;
    &lt;jsp:body&gt;
      &lt;p&gt;Hi I'm the heart of the message&lt;/p&gt;
    &lt;/jsp:body&gt;
&lt;/t:genericpage&gt;
</code></pre>

<h2 id="thymeleaf">Thymeleaf</h2>

<p><a href="https://en.wikipedia.org/wiki/Thymeleaf">Thymeleaf</a>是Java平台下的模板引擎，其特征包括：产生良构的HTML或XML，基于标签属性的、声明式的、HTML兼容的模板语法（这意味着Thymeleaf模板可以直接用浏览器打开）。
不提供模板继承，其他特性同CodeCharge Studio。</p>

<div class="language-html highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;table&gt;</span>
  <span class="nt">&lt;thead&gt;</span>
    <span class="nt">&lt;tr&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">th:text=</span><span class="s">"#{msgs.headers.name}"</span><span class="nt">&gt;</span>Name<span class="nt">&lt;/th&gt;</span>
      <span class="nt">&lt;th</span> <span class="na">th:text=</span><span class="s">"#{msgs.headers.price}"</span><span class="nt">&gt;</span>Price<span class="nt">&lt;/th&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/thead&gt;</span>
  <span class="nt">&lt;tbody&gt;</span>
    <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"prod : ${allProducts}"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${prod.name}"</span><span class="nt">&gt;</span>Oranges<span class="nt">&lt;/td&gt;</span>
      <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${#numbers.formatDecimal(prod.price,1,2)}"</span><span class="nt">&gt;</span>0.99<span class="nt">&lt;/td&gt;</span>
    <span class="nt">&lt;/tr&gt;</span>
  <span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</code></pre>
</div>

<blockquote>
  <p>为了产生良构的HTML默认采取Strict文档模式，这使得很多Copy来的代码会报错。</p>
</blockquote>

<h2 id="handlebars">Handlebars</h2>

<p><a href="http://handlebarsjs.com/">Handlebars</a>提倡无逻辑（logicless）的模板语法，致力于创建语义模板。只提供基本的控制流和迭代，不支持函数和通用表达式。Handlebars提出了一种新颖的上下文进入的语法。</p>

<div class="language-hbs highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"entry"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h1&gt;</span><span class="k">{{</span><span class="nv">title</span><span class="k">}}</span><span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"body"</span><span class="nt">&gt;</span>
    <span class="k">{{</span><span class="nv">body</span><span class="k">}}</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>
<p>Harttle 不再使用Handlebars的原因包括：上下文进入的语法使得代码维护困难，无逻辑的语法使得扩展标签变成常事，然而扩展一个标签并不容易。</p>

<h2 id="angularjs-template">AngularJS Template</h2>

<p><a href="https://docs.angularjs.org/guide/templates">AngularJS Template</a>是前端模板引擎。与<a href="https://en.wikipedia.org/wiki/Thymeleaf">Thymeleaft</a>一样采用基于标签属性的、声明式的、HTML兼容的模板语法。这使得后端Thymeleaf前端AngularJS时会产生冲突。</p>

<p>AngularJS Template的强大之处在于完全的声明式语法、数据双向绑定，很容易创建实时交互的Web应用。</p>

<pre><code class="language-angularjs">&lt;html ng-app&gt;
 &lt;!-- Body tag augmented with ngController directive  --&gt;
 &lt;body ng-controller="MyController"&gt;
   &lt;input ng-model="foo" value="bar"&gt;
   &lt;!-- Button tag with ng-click directive, and
          string expression 'buttonText'
          wrapped in "{{ }}" markup --&gt;
   &lt;button ng-click="changeFoo()"&gt;{{buttonText}}&lt;/button&gt;
   &lt;script src="angular.js"&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<h2 id="jade">Jade</h2>

<p><a href="http://jade-lang.com/">Jade</a>一度成为ExpressJS的默认模板引擎，致力于生成良构的HTML。提供了极其简洁的Emmet风格的模板语法，不兼容HTML，于是上手也有一些困难。</p>

<pre><code class="language-jade">doctype html
html(lang="en")
  head
    title= pageTitle
  body
    h1 Jade - node template engine
    #container.col
      p.
        Jade is a terse and simple templating language with a strong focus on performance and powerful features.
</code></pre>

<p>从上面的代码可以看到，从网上Copy来的HTML不能直接作为Jade模板使用。</p>

<h2 id="ejs">EJS</h2>

<p><a href="https://github.com/tj/ejs">EJS</a>和PHP语法及其相似，采用HTML内嵌脚本语言的方式。Harttle不会喜欢这种方式，毕竟JavaScript是JavaScript，HTML是HTML。况且直接内嵌JavaScript还会增加安全风险。</p>

<pre><code class="language-ejs">&lt;ul&gt;
  &lt;% users.forEach(function(user){ %&gt;
    &lt;% include user/show %&gt;
  &lt;% }) %&gt;
&lt;/ul&gt;
</code></pre>

<h1 id="section-1">理想的模板引擎</h1>

<p>介绍了这么多模板引擎，我们来分析一下理想的模板引擎应该有哪些功能。
一些必不可少的功能就不展开了，比如控制流、迭代、变量定义等，下文主要介绍那些可选的优秀特性。</p>

<h2 id="section-2">布局和片段</h2>

<p>布局（layout）和片段（partial）这是模块化开发的基础。</p>

<p>片段（partial）使得一个页面模板可以引入其他的模板，这对于一些通用组件的复用是很有效的。
比如列表页底部的分页器、边栏的公告等信息、站点公用的导航栏等。</p>

<p>布局（layout）是指一个页面模板可以继承一个布局框架模板。比如，在布局框架中可以写好<code class="highlighter-rouge">&lt;head&gt;</code>部分、导航栏，以及底栏。
其他页面模板通过继承该布局框架来填充其中的内容部分。</p>

<h2 id="section-3">布尔运算</h2>

<p>对于是否提供表达式求值或函数调用，不同的模板引擎有着不同的观点。</p>

<ul>
  <li>有些认为模板不应提供运算逻辑，以提高易读性和容错性（毕竟模板引擎有时是给设计师用的）。
Handlebars是典型的logicless模板引擎。</li>
  <li>有些则认为模板应当提供足够的运算能力，以此来简化复杂逻辑的实现。
比如EJS、PHP等，在模板中几乎可以完成所有业务逻辑。</li>
</ul>

<p>Harttle认为模板应尽量避免运算以提高易读性，但布尔运算仍然是必要的。例如：</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code><span class="p">{%</span><span class="w"> </span><span class="kr">if</span><span class="w"> </span><span class="nv">user</span><span class="p">.</span><span class="nv">login</span><span class="w"> </span><span class="nv">and</span><span class="w"> </span><span class="nv">page</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">%}</span>
  foo
<span class="p">{%</span><span class="w"> </span><span class="kr">endif</span><span class="w"> </span><span class="p">%}</span>
</code></pre>
</div>

<p>如果用完全不提供逻辑运算的Handlebars实现则会繁琐很多：</p>

<div class="language-hbs highlighter-rouge"><pre class="highlight"><code><span class="k">{{#</span> <span class="nv">if</span> <span class="nv">user</span><span class="p">.</span><span class="nv">login</span> <span class="k">}}</span>
  <span class="k">{{#</span> <span class="nv">if</span> <span class="nv">page</span> <span class="err">&gt;</span> <span class="nv">1</span><span class="k">}}</span>
    foo
  <span class="k">{{/if}}</span>
<span class="k">{{/if}}</span>
</code></pre>
</div>

<h2 id="section-4">数据格式化</h2>

<p>模板引擎的作用在于将数据注入到模板中，于是到处都需要将数据模型中的值转换为用户可见的字符串。
这个过程可以在控制器中完成，可以在数据模型中完成，也可以在模板中完成。
Harttle认为模板引擎更加了解如何进行数据的表示，这一过程最好在模板引擎中加以实现。
例如Liquid中的<code class="highlighter-rouge">date</code>过滤器：</p>

<div class="language-liquid highlighter-rouge"><pre class="highlight"><code><span class="p">{{</span><span class="w"> </span><span class="nv">article</span><span class="p">.</span><span class="nv">date</span><span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="nf">date</span><span class="p">:</span><span class="w"> </span><span class="s1">'%Y-%m-%d'</span><span class="w"> </span><span class="p">}}</span>   &lt;!-- 2016-06-21 --&gt;
</code></pre>
</div>

<p>除<code class="highlighter-rouge">date</code>以外，Shopify Liquid还提供了很多其他的过滤器，比如<code class="highlighter-rouge">upcase</code>, <code class="highlighter-rouge">capitalize</code>, <code class="highlighter-rouge">size</code>等。
用户可根据业务逻辑定义自己的过滤器。</p>

<blockquote>
  <p>Liquid过滤器是可以级联的，例如：<code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">list</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">split:</span><span class="w"> </span><span class="err">','</span><span class="w"> </span><span class="err">|</span><span class="w"> </span><span class="err">join:</span><span class="w"> </span><span class="err">'-'</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code>。</p>
</blockquote>

<h1 id="shopify-liquid-">shopify-liquid 项目</h1>

<p>最近Harttle发起了<a href="https://github.com/harttle/shopify-liquid">harttle/shopify-liquid</a>项目，这是Node.JS下的Liquid实现，符合Shopify Liquid文档标准。
因此该模板引擎是与Jekyll或Github Pages兼容的。</p>

<p>当前Node.js下有<a href="https://github.com/sirlantis/liquid-node">liquid-node</a>作为Liquid实现，Harttle已经在长期使用。
可惜它的实现不够完整，扩展Tag较为困难。
liquid-node在进一步开发之前还需要CoffeeScript到ES6的整体迁移，因此很多Issue都处于Open状态。
所以Harttle决定发起一个Node.JS下的Liquid项目，将容易扩展作为首要特性。
意在提供最强的功能特性，现已实现<a href="https://shopify.github.io/liquid/">Shopify Liquid</a>文档中的所有标签和过滤器。</p>

<ul>
  <li>Github：<a href="https://github.com/harttle/shopify-liquid">https://github.com/harttle/shopify-liquid</a></li>
  <li>NPM: <a href="https://www.npmjs.org/package/shopify-liquid">https://www.npmjs.org/package/shopify-liquid</a></li>
</ul>

<blockquote>
  <p>欢迎大家提供意见、提供Tag或Filter的PR、开发其他框架下的插件包装。</p>
</blockquote>


      </article>

      <div class="author-wrapper">
        <section class="module-author">
  <img src="/assets/img/avatar.jpg">
  <header>Harttle</header>
  <p>前端开发</p>
</section>

      </div>
      <div class="post-pager clearfix">
  
    <a href="/2016/06/23/mocha-chai-bdd.html" class="previous btn-hover">
      上一篇：使用jekyll+Github Pages本地写博客
    </a>
  
  

  
    <div id="social-share-block" class="text-right"></div>
  

  

  

</div>


      <!-- <div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'harttleland'; 
  $(function () {
      var dsq = document.createElement('script');
      dsq.type = 'text/javascript';
      dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  });
</script>
<noscript>请 <a href="http://disqus.com/?ref_noscript">启用 JavaScript</a> 来查看评论 </noscript>
 -->
    </div>
  </div>

  <script type="text/x-mathjax-config">  
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$', '$'] ],
            displayMath: [ ['$$', '$$'], ['$$$', '$$$']],
            processEscapes: true,
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
    });
    MathJax.Hub.Queue(function () {
        $('body').scrollspy('refresh'); 
    });
</script>

<script type="text/async-script" data-src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>

</div>

 </div>

    <a href="#body" id="site-scroll-top" class="animate">
      <span class="fa fa-chevron-up"></span>
    </a>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
<script src="//oss.maxcdn.com/libs/html5shiv/3.6.2/html5shiv.js"></script>
<script src="//v3.bootcss.com/docs-assets/js/respond.min.js"></script>
<![endif]-->

<script src="/assets/lib/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script type="text/async-script" data-src="/assets/lib/lightbox/js/lightbox.min.js"></script>
<script src="/assets/js/site.js"></script>

<script>
  var _hmt = _hmt || []; (function() { var hm = document.createElement("script"); hm.src = "//hm.baidu.com/hm.js?d6a11a278b8e06d897d247e0402b0f35"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s); })();
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-65795020-1', 'auto'); ga('send', 'pageview');
</script>

<script>
(function(){ var bp = document.createElement('script'); var curProtocol = window.location.protocol.split(':')[0]; if (curProtocol === 'https') { bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        } else { bp.src = 'http://push.zhanzhang.baidu.com/push.js'; } var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(bp, s); })();
</script>


  </body>
</html>
